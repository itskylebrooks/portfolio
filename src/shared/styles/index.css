@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
	:root {
		color-scheme: dark;
		--color-bg: #000000;
		--color-surface: rgba(18, 18, 18, 0.92);
		--color-surface-hover: rgba(255, 255, 255, 0.04);
		--color-surface-active: rgba(255, 255, 255, 0.06);
		--color-border-muted: rgba(255, 255, 255, 0.12);
		--color-border-subtle: rgba(255, 255, 255, 0.06);
		--color-border-strong: rgba(255, 255, 255, 0.16);
		--color-card-border: rgba(255, 255, 255, 0.12);
		--color-card-hover-border: rgba(255, 255, 255, 0.4);
		--color-card-hover-bg: rgba(255, 255, 255, 0.05);
		--color-tag-bg: rgba(255, 255, 255, 0.06);
		--color-tag-border: rgba(255, 255, 255, 0.12);
		--color-text-strong: rgba(245, 245, 245, 0.98);
        --color-text-primary: rgba(245, 245, 245, 0.94);
        --color-text-secondary: rgba(245, 245, 245, 0.82);
        --color-text-tertiary: rgba(245, 245, 245, 0.7);
        --color-text-muted: rgba(245, 245, 245, 0.6);
        --color-text-subtle: rgba(245, 245, 245, 0.5);
        --color-text-faint: rgba(245, 245, 245, 0.35);
        --color-link: rgba(255, 255, 255, 0.92);
        --color-link-hover: rgba(255, 255, 255, 1);
        --color-icon-muted: rgba(255, 255, 255, 0.55);
        --color-icon-strong: rgba(255, 255, 255, 0.95);
        --color-selection-bg: rgba(255, 255, 255, 0.2);
        --color-selection-text: rgba(12, 12, 12, 1);
        --color-focus-ring: rgba(255, 255, 255, 0.7);
		--color-header-bg: var(--color-bg);
		--color-header-backdrop: rgba(0, 0, 0, 0.45);
        --color-header-border: rgba(255, 255, 255, 0.1);
        --color-ring-offset: var(--color-bg);
        --accent-red-text: #f87171;
        --accent-red-border: rgba(239, 68, 68, 0.6);
        --accent-red-bg: rgba(239, 68, 68, 0.08);
        --accent-green-text: #4ade80;
        --accent-green-border: rgba(34, 197, 94, 0.6);
        --accent-green-bg: rgba(34, 197, 94, 0.08);
        --accent-blue-text: #60a5fa;
        --accent-blue-border: rgba(59, 130, 246, 0.6);
        --accent-blue-bg: rgba(59, 130, 246, 0.08);
        --accent-lilac-text: #c084fc;
        --accent-lilac-border: rgba(168, 85, 247, 0.6);
        --accent-lilac-bg: rgba(168, 85, 247, 0.08);
        --accent-orange-text: #fb923c;
        --accent-orange-border: rgba(249, 115, 22, 0.6);
        --accent-orange-bg: rgba(249, 115, 22, 0.08);
        --accent-amber-text: #fbbf24;
        --accent-amber-border: rgba(245, 158, 11, 0.6);
        --accent-amber-bg: rgba(245, 158, 11, 0.08);
        --accent-teal-text: #5eead4;
        --accent-teal-border: rgba(45, 212, 191, 0.6);
        --accent-teal-bg: rgba(45, 212, 191, 0.08);
        --accent-pink-text: #f472b6;
        --accent-pink-border: rgba(236, 72, 153, 0.6);
        --accent-pink-bg: rgba(236, 72, 153, 0.08);
        --accent-cyan-text: #67e8f9;
        --accent-cyan-border: rgba(34, 211, 238, 0.6);
        --accent-cyan-bg: rgba(34, 211, 238, 0.08);
        --accent-violet-text: #a78bfa;
        --accent-violet-border: rgba(139, 92, 246, 0.6);
        --accent-violet-bg: rgba(139, 92, 246, 0.08);
        --labs-gradient-start: rgba(147, 51, 234, 0.18);
        --labs-gradient-mid: rgba(34, 197, 94, 0.14);
        --labs-gradient-end: rgba(249, 115, 22, 0.14);
        --labs-border: rgba(255, 255, 255, 0.08);
        --labs-shadow: rgba(255, 255, 255, 0.02);
        --color-image-placeholder-bg: rgba(18, 18, 18, 0.8);
        --color-image-placeholder-glass: rgba(255, 255, 255, 0.015);
        --color-image-placeholder-glow: rgba(255, 255, 255, 0.03);
        --color-image-placeholder-border: rgba(255, 255, 255, 0.1);
	}

	html,
	body,
	#root {
		height: 100%;
		background-color: var(--color-bg);
		color: var(--color-text-primary);
		font-family: 'IBM Plex Sans', ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
	}

	* {
		box-sizing: border-box;
	}

	html {
		scroll-behavior: auto;
	}

	::selection {
		background-color: var(--color-selection-bg);
		color: var(--color-selection-text);
	}

	@media (prefers-reduced-motion: reduce) {
		html {
			scroll-behavior: auto;
		}
	}

	/* Load IBM Plex Sans from local files in public/fonts. */
	@font-face {
		font-family: 'IBM Plex Sans';
		src: url('/fonts/IBMPlexSans-VariableFont_wdth,wght.woff2') format('woff2');
		font-weight: 100 900;
		font-style: normal;
		font-display: swap;
	}

	@font-face {
		font-family: 'IBM Plex Sans';
		src: url('/fonts/IBMPlexSans-Italic-VariableFont_wdth,wght.woff2') format('woff2');
		font-weight: 100 900;
		font-style: italic;
		font-display: swap;
	}
}

.prose pre {
	background-color: rgba(12, 12, 12, 0.6);
	padding: 0.75rem;
	border-radius: 0.5rem;
	overflow: auto;
}

.prose code {
	font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
}

.labs-badge {
	background-image: linear-gradient(90deg, var(--labs-gradient-start), var(--labs-gradient-mid), var(--labs-gradient-end));
	border: 1px solid var(--labs-border);
	color: var(--color-text-primary);
	box-shadow: inset 0 1px 0 var(--labs-shadow);
}

@media (prefers-reduced-motion: reduce) {
	.labs-badge {
		transition: none;
	}
}

/* Global placeholder styles to match footer */
input::placeholder,
textarea::placeholder {
	color: var(--color-text-tertiary);
	opacity: 1; /* ensure consistent color intensity across browsers */
	font-size: 0.875rem; /* align with footer text-sm */
}

/* Figure/caption styles for post images */
.prose .post-figure {
	margin-top: 0;
	margin-bottom: 1.5rem;
}

.prose .post-figure:first-child {
	margin-top: 0;
}
.prose .post-figure img,
.prose .post-figure .smart-image {
	display: block;
	margin: 0 auto;
	border-radius: 0.375rem;
}
.prose .figure-caption {
	margin-top: 0.5rem; /* small gap between image and caption */
	text-align: center;
	font-size: 0.875rem; /* matches Tailwind text-sm */
	color: var(--color-text-subtle);
}

.figure-caption a {
	color: inherit;
	text-decoration-color: inherit;
}

.prose img {
	display: block;
	width: 100%;
	height: auto;
	border-radius: 0.375rem;
}

.smart-image {
	position: relative;
	width: 100%;
	border-radius: 0.375rem;
	overflow: hidden;
	display: block;
	background: #000000;
}

.smart-image::before {
	content: '';
	position: absolute;
	inset: -50%;
	z-index: 1;
	background: 
		radial-gradient(
			circle at 50% 50%,
			rgba(255, 255, 255, 0.5) 0%,
			rgba(255, 255, 255, 0.3) 15%,
			transparent 25%
		);
	transform: scale(0.5);
	animation: inkSpill 8s ease-out forwards;
	opacity: 1;
	transition: opacity 0.6s cubic-bezier(0.4, 0, 0.2, 1);
	pointer-events: none;
	filter: blur(60px);
}

.smart-image::after {
	content: '';
	position: absolute;
	inset: 0;
	z-index: 2;
	border-radius: inherit;
	border: 1px solid var(--color-image-placeholder-border);
	pointer-events: none;
}

@keyframes inkSpill {
	0% {
		transform: scale(0.5);
	}
	100% {
		transform: scale(2.5);
	}
}

.smart-image img {
	display: block;
	width: 100%;
	height: auto;
	border-radius: inherit;
}

.smart-image--loaded::before {
	opacity: 0;
	animation-play-state: paused;
}

.smart-image--loaded::after {
	opacity: 0;
}

.smart-image--loaded {
	animation: none;
}

img {
	border-radius: 0.375rem;
}

/* Post card hover effect */
.post-card {
	transition: background-color 0.15s ease, border-color 0s ease;
}
.post-card:hover {
	background-color: var(--color-surface-active);
	border-color: var(--color-border-muted);
}

/* Project card accent hover effects */
.project-card-red:hover {
	background-color: var(--accent-red-bg);
	border-color: var(--accent-red-border);
}
.project-card-red:hover .project-card-icon {
	color: var(--accent-red-text);
}

.project-card-green:hover {
	background-color: var(--accent-green-bg);
	border-color: var(--accent-green-border);
}
.project-card-green:hover .project-card-icon {
	color: var(--accent-green-text);
}

.project-card-blue:hover {
	background-color: var(--accent-blue-bg);
	border-color: var(--accent-blue-border);
}
.project-card-blue:hover .project-card-icon {
	color: var(--accent-blue-text);
}

.project-card-lilac:hover {
	background-color: var(--accent-lilac-bg);
	border-color: var(--accent-lilac-border);
}
.project-card-lilac:hover .project-card-icon {
	color: var(--accent-lilac-text);
}

.project-card-orange:hover {
	background-color: var(--accent-orange-bg);
	border-color: var(--accent-orange-border);
}
.project-card-orange:hover .project-card-icon {
	color: var(--accent-orange-text);
}

.project-card-amber:hover {
	background-color: var(--accent-amber-bg);
	border-color: var(--accent-amber-border);
}
.project-card-amber:hover .project-card-icon {
	color: var(--accent-amber-text);
}

.project-card-teal:hover {
	background-color: var(--accent-teal-bg);
	border-color: var(--accent-teal-border);
}
.project-card-teal:hover .project-card-icon {
	color: var(--accent-teal-text);
}

.project-card-pink:hover {
	background-color: var(--accent-pink-bg);
	border-color: var(--accent-pink-border);
}
.project-card-pink:hover .project-card-icon {
	color: var(--accent-pink-text);
}

.project-card-cyan:hover {
	background-color: var(--accent-cyan-bg);
	border-color: var(--accent-cyan-border);
}
.project-card-cyan:hover .project-card-icon {
	color: var(--accent-cyan-text);
}

.project-card-violet:hover {
	background-color: var(--accent-violet-bg);
	border-color: var(--accent-violet-border);
}
.project-card-violet:hover .project-card-icon {
	color: var(--accent-violet-text);
}

/* Reusable title hover effect - bright white */
.title-hover {
	transition: color 0.15s ease;
}
.title-hover:hover {
	color: rgba(255, 255, 255, 1) !important;
}
